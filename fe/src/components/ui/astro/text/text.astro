---
import type { HTMLAttributes } from 'astro/types';
import './text.scss';

type TextElement = 'p' | 'span' | 'div' | 'label';
type TextSize = 'xs' | 'sm' | 'base' | 'lg' | 'xl';
type TextWeight = 'regular' | 'medium' | 'semibold' | 'bold';
type TextColor = 'primary' | 'secondary' | 'tertiary' | 'accent' | 'success' | 'warning' | 'error';

interface Props extends HTMLAttributes<'p'> {
  as?: TextElement;
  size?: TextSize;
  weight?: TextWeight;
  color?: TextColor;
  leading?: 'tight' | 'normal' | 'relaxed' | 'prose';
  truncate?: boolean;
}

const { 
  as: Element = 'p', 
  size = 'base', 
  weight = 'regular',
  color = 'primary',
  leading = 'normal',
  truncate = false,
  class: className, 
  ...rest 
} = Astro.props;
---

<Element 
  class:list={[
    'text',
    `text--size-${size}`,
    `text--weight-${weight}`,
    `text--color-${color}`,
    `text--leading-${leading}`,
    truncate && 'text--truncate',
    className
  ]} 
  data-slot="text"
  {...rest}
>
  <slot />
</Element>

